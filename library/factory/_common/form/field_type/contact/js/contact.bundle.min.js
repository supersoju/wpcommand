/*! Admin Page Framework - Contact Field Type 0.0.3 */
!function(r){var i=WPCAC_AdminPageFrameworkScriptFormMain,d=WPCAC_AdminPageFrameworkContactFieldType;function e(e){e.preventDefault(),c("Required Fields:",(e=r(this).closest(".wpcommand-sections").find("input[required], textarea[required], select[required]")).length);var s,a,t,o,n=!0;e.each(function(){return!r(this).is(":visible")||(t=(a=r(this)).attr("type").toLowerCase(),!("textarea"!==(e=a.prop("tagName").toLowerCase())?"select"!==e?"checkbox"!==t&&"radio"!==t?"text"===t&&""===r.trim(a.val()):!a.is(":checked"):(r(a).find("option").each(function(){if(r(this).is(":selected"))return!1}),1):""===r.trim(a.val()))||(r(this)["wpcommand-form-tooltip"]({content:"<span class='dashicons dashicons-warning field-error'></span><span>"+d.messages.requiredField+"</span>",shown:!0,width:200,oneOff:!0,autoClose:!1,position:{edge:"top"}}),n=!1,void(s=s||r(this))));var e,a,t}),n?(c("Sending data via Ajax",e=r.extend({action:d.action,nonce:d.nonce,form:r(this).closest("form").serializeArray()},r(this).data())),a=r('<img src="'+i.spinnerURL+'" alt="'+i.messages.loading+'" />').addClass("wpcommand-ajax-spinner"),r(this).closest(".wpcommand-field").find(".result-placeholder").prepend(a),(t=r(this).closest(".wpcommand-field").find(".result-placeholder .dashicons")).removeClass("dashicons-yes-alt success dashicons-warning error"),o=this,r.ajax({type:"post",dataType:"json",url:i.ajaxURL,data:e,success:function(e){c("Request result:",e.result,e.message),e.result?t.addClass("dashicons-yes-alt success wpcommand-form-tooltip"):t.addClass("dashicons-warning error wpcommand-form-tooltip"),t.prepend("<span class='wpcommand-form-tooltip-content'>"+e.message+"</span>")},error:function(e){c("Request error:",e.status+" "+e.statusText),t.addClass("dashicons-warning error wpcommand-form-tooltip"),t.prepend("<span class='wpcommand-form-tooltip-content'>"+e.status+" "+e.statusText+"</span>")},complete:function(){a.remove(),c("Request done."),t["wpcommand-form-tooltip"]({autoClose:!1,shown:!0,oneOff:!0,noArrow:!0,position:{edge:"bottom",within:r(o)}})}}),c("Ajax requested")):r([document.documentElement,document.body]).animate({scrollTop:s.offset().top-60},100)}function c(...e){parseInt(i.debugMode)&&console.log("APF (Contact)",...e)}r(document).ready(function(){"undefined"!==d&&(c(d),r('input[type="submit"][data-email="1"]').on("click",e))})}(jQuery);